# Дипломный проект по курсу «Тестировщик ПО»
## О проекте
В рамках данного проекта необходимо автоматизировать тестирование комплексного сервиса покупки тура, взаимодействующего с СУБД и API Банка.

База данных хранит информацию о заказах, платежах, статусах карт, способах оплаты.

Покупка тура возможна с помощью карты и в кредит. Данные по картам обрабатываются отдельными сервисами (Payment Gate, Credit Gate)

Полные условия и исходные данные описанного кейса можно посмотреть [здесь](https://github.com/netology-code/qa-diploma)

## Документация

[План автоматизации тестирования веб-формы сервиса покупки туров интернет-банка](https://github.com/dofpo/DW_QA/blob/master/documents/Plan.md)

[Отчёт о проведённом тестировании](https://github.com/dofpo/DW_QA/blob/master/documents/Report.md)

[Комплексный отчёт о проведённой автоматизации тестирования](https://github.com/dofpo/DW_QA/blob/master/documents/Summary.md)



## Запуск приложения

Перед запуском необходимо выполнить следующие предусловия. Если у вас уже есть необходимое ПО, то понадобится только п.1 и запуск Docker.

*Предусловия:*
1. Необходимо склонировать репозиторий или скачать архив по [ссылке](https://github.com/dofpo/DW_QA.git). Или воспользоваться VCS Git, встроенной в
   IntelliJ IDEA.
2. Установить и запустить Docker Desktop. Это можно сделать [здесь](https://docs.docker.com/desktop/) в зависимости от операционной системы.
3. Открыть проект в IntelliJ IDEA

### Запуск
1. Запустить необходимые базы данных (MySQL и PostgreSQL), а также NodeJS. Параметры для запуска хранятся в файле [`docker-compose.yml`](https://github.com/dofpo/DW_QA/blob/master/docker-compose.yml). Для запуска необходимо ввести в терминале команду:
```
docker-compose up
```
2. В новой вкладке терминала ввести следующую команду в зависимости от базы данных
- `java -jar .\aqa-shop.jar --spring.datasource.url=jdbc:mysql://localhost:3307/app` - для MySQL
- `java -jar .\aqa-shop.jar --spring.datasource.url=jdbc:postgresql://localhost:5432/app` - для PostgreSQL
3. Приложение должно запуститься работать по адресу http://localhost:8080/

## Запуск тестов
1. В новой вкладке терминала ввести команду запуска тестов:
- `.\gradlew test "-Dselenide.headless=true"`

## Перезапуск приложения и тестов
Если необходимо перезапустить приложение и/или тесты (например, для другой БД), необходимо выполнить остановку работы в запущенных ранее вкладках терминала, нажав в них Ctrl+С

## Формирование отчета AllureReport по результатам тестирования
В новой вкладке терминала или нажав двойной Ctrl ввести команду:
```
gradlew allureServe
```
Сгенерированный отчет откроется в браузере автоматически. После просмотра и закрытия отчета можно остановить работу команды, нажав Ctrl+С или закрыть вкладку Run и нажать Disconnect.
